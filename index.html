<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <title>Калькулятор</title>
</head>

<body>

    <header>
    </header>

    <main>
        <div class="calc">
            <form onsubmit="alert('submit!');return false">
                <div>
                    <input type="number" id="number1" class="border" required>
                    <select title="operations" id="operation" class="border" style="width: 60px;">
                        <option>+</option>
                        <option>-</option>
                        <option>*</option>
                        <option>/</option>
                    </select>
                    <input type="number" id="number2" class="border" required>
                </div>
                <div>
                    <input type="button" value="подсчитать" onclick="count()" class="border">
                </div>
                <div class="border result">
                    <span id="previous"></span><br>
                    <span id="current"></span>
                </div>
            </form>
        </div>
    </main>

    <footer>
    </footer>

    <script>
        var iter = 0;
        var resprev;
        function count() {
            var num1 = parseInt(document.getElementById('number1').value);
            var num2 = parseInt(document.getElementById('number2').value);
            if (isNaN(num1) || isNaN(num2)) {
                alert('Внимание!\nВведите оба числа!');
                return;
            }
            var oper = document.getElementById('operation').value;
            var result = 0;
            switch (oper) {
                case '+':
                    result = num1 + num2
                    break;
                case '-':
                    result = num1 - num2
                    break;
                case '*':
                    result = num1 * num2
                    break;
                case '/':
                    if (num2 === 0) {
                        alert("Деление на 0 невозможно!")
                        break;
                    }
                    result = num1 / num2
                    break;
            }
            var rescurr = String(num1 + ' ' + oper + ' ' + num2 + ' ' + '=' + ' ' + result);
            if(rescurr===resprev){
                alert('Это выражение уже подсчитано!');
                return;
            }
            iter++;
            if (iter === 1) {
                resprev = rescurr;
                document.getElementById('current').innerHTML = rescurr;
            }
            else {
                document.getElementById('previous').innerHTML = resprev;
                document.getElementById('previous').style.color = '#EAA4A4';
                document.getElementById('current').innerHTML = rescurr;
                resprev = rescurr;
            }



        }

    </script>

</body>

</html>